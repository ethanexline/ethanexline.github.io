<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0">
        <link rel="shortcut icon" class="faviconSwitch" href="/faviconDark.png">
        <link rel="stylesheet" class="themeChanger" media="none" href="https://unpkg.com/xp.css">
        <link rel="stylesheet" class="themeChanger" media="none" href="https://unpkg.com/xp.css/dist/98.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" class="themeChanger" media="" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">        
        <title>Time to get weird.</title>

        <script type="text/javascript" src="/assets/js/jquery-3.6.0.min.js"></script>
        <script type="text/javascript" src="/assets/js/hammer.min.js"></script>

        <link rel="stylesheet" href="/assets/css/minesweeper.min.css">
        <script src="assets/js/minesweeper.min.js"></script>

        <style>
            #main {
                width: 100%;
                height: 100%;
                transition: transform 1s;
            }
            #sidebar {
                height: 100%;
                width: 240px;
                border-right: solid 3px black;
                background-color: #2d2b55;
                color: white;
                position: absolute;
                bottom: 0;
                top: 0;
                left: 0;
                overflow-y: auto;
                z-index: 5;
                display: flex;
                flex-direction: row-reverse;
                transform: translateX(-195px);
                transition: transform 1s;
            }

            #sidebar h6 {
                color: white; 
                padding: 50px 10px;
            }

            #sidebar ul li a {
                font-size: 14px;
                color: pink;
            }

            #sidebar ul li {
                padding-bottom: 15px;
                list-style-type: disclosure-closed;
                color: mediumpurple;
            }

            .win98Btn {
                background-color: silver;
                border-bottom: 1px solid #22292f;
                border-left: 1px solid #fff;
                border-right: 1px solid #22292f;
                border-top: 1px solid #fff;
                display: inline-block;
                image-rendering: optimizeSpeed;
                image-rendering: -moz-crisp-edges;
                image-rendering: -o-crisp-edges;
                image-rendering: -webkit-crisp-edges;
                image-rendering: crisp-edges;
                image-rendering: -webkit-optimize-contrast;
                image-rendering: -o-pixelated;
                image-rendering: pixelated;
                -ms-interpolation-mode: nearest-neighbor;
                margin: 2px;
                overflow: hidden;
                padding: 2px 4px;
                text-overflow: ellipsis;
                vertical-align: middle;
                white-space: nowrap;
            }

            .xp {
                color: white;
                background: linear-gradient(0deg, rgba(8,27,203,1) 0%, rgba(37,97,221,255) 10%, rgba(33,87,213,255) 85%, rgba(93,179,255,1) 100%);
                height: 41px !important;
            }

            #xpClock {
                background: linear-gradient(0deg, rgba(0,98,234,1) 0%, rgba(12,161,241,255) 10%, rgba(20,152,237,255) 85%, rgba(156,220,255,1) 100%);
                height: 41px !important;
                margin-right: 0;
                width: 100px;
                text-align: center;
                white-space: nowrap;
                border-left: solid rgba(0,98,234,1) 1px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .win98 {
                color: black;
                background-color: silver;
            }

            #clockCircle {
                margin-left: -22px;
            }

            #start-menu {
                font-family: VT323,monospace;
                background: linear-gradient(#1084d0, navy);
                border-left: 1px solid #fff;
                border-top: 1px solid #fff;
                bottom: 30px;
                -webkit-box-shadow: 1px 1px 0 0 #22292f;
                box-shadow: 1px 1px 0 0 #22292f;
                left: 4px;
                margin-bottom: -2px;
                position: fixed;
                -webkit-transition: -webkit-transform .25s;
                transition: -webkit-transform .25s;
                transition: transform .25s;
                transition: transform .25s,-webkit-transform .25s;
                z-index: 2;
            }

            #start-menuXP {
                border-top-left-radius: 8px;
                border-top-right-radius: 8px;
                border: 1px solid rgba(0,51,153,1);
                font-family: VT323,monospace;
                bottom: 44px;
                -webkit-box-shadow: 1px 1px 0 0 #22292f;
                box-shadow: 1px 1px 0 0 #22292f;
                margin-bottom: -2px;
                position: fixed;
                -webkit-transition: -webkit-transform .25s;
                transition: -webkit-transform .25s;
                transition: transform .25s;
                transition: transform .25s,-webkit-transform .25s;
                z-index: 2;
            }

            #start-menu:focus {
                display: unset !important;
            }

            #start-menuXP:focus {
                display: unset !important;
            }

            .start-menu__bar {
                font-family: Times NR MT W01 Regular,Times New Roman,TimesNewRoman,Times,serif;
                color: #fff;
                font-size: 22px;
                height: 30px;
                left: 0;
                line-height: 1;
                padding: 4px 8px;
                position: absolute;
                top: 260px;
                -webkit-transform: rotate(-90deg);
                transform: rotate(-90deg);
                -webkit-transform-origin: 0 0;
                transform-origin: 0 0;
                font-weight: lighter;
            }

            .start-menu__list {
                background-color: silver;
                position: relative;
                list-style: none;
                margin-left: 30px;
                margin-top: 0px;
                margin-bottom: 0px;
                padding-left: 0px;
            }

            .start-menu__listXP {
                width: 210px;
                background-color: white;
                color: white;
                position: relative;
                list-style: none;
                margin-top: 0px;
                margin-bottom: 0px;
                padding-left: 0px;
            }

            .start-item {
                color: black;
                font-family: 'Pixelated MS Sans Serif', Arial;
                position: relative;
            }

            .start-item__button:hover {
                color: white;
                background-color: #000082 !important;
            }

            .start-item__buttonXP:hover {
                color: white;
                background-color: #316AC5 !important;
            }

            .start-item__button, .start-item__icon {
                -webkit-box-align: center;
                -ms-flex-align: center;
                align-items: center;
                display: -webkit-box;
                display: -ms-flexbox;
                display: flex;
            }

            .start-item__button {
                background-color: silver;
                height: 40px;
                overflow: hidden;
                padding: 0 10px;
                position: relative;
                text-overflow: ellipsis;
                white-space: nowrap;
                width: 160px;
                text-decoration: none;
                color: black;
            }

            .start-item__buttonXP {
                background-color: white;
                height: 40px;
                overflow: hidden;
                padding: 0 10px;
                position: relative;
                text-overflow: ellipsis;
                white-space: nowrap;
                width: 160px;
                text-decoration: none;
                color: black;
                width: 210px;
            }

            .start-item__icon {
                height: 35px;
                -webkit-box-pack: center;
                -ms-flex-pack: center;
                justify-content: center;
                margin-right: 10px;
                width: 35px;
            }

            .start-item__button, .start-item__buttonXP, .start-item__icon {
                -webkit-box-align: center;
                -ms-flex-align: center;
                align-items: center;
                display: -webkit-box;
                display: -ms-flexbox;
                display: flex;
            }

            .start-item__icon img {
                max-height: 100%;
                max-width: 100%;
                display: inline-block;
            }

            .icon {
                margin-left: 0.25rem;
                margin-right: 0.25rem;
                margin-top: 0.5rem;
                margin-bottom: 0.5rem;
                cursor: pointer!important; 
                display: inline-block;
                position: absolute;
                text-align: center;
                vertical-align: middle;
            }

            .icon, .icon * {
                -ms-touch-action: none;
                touch-action: none;
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }

            @media (min-width: 640px) {
                .icon__inner {
                    width: 90px;
                }
            }

            .icon__image, .icon__inner {
                -webkit-box-align: center;
                -ms-flex-align: center;
                align-items: center;
                display: -webkit-box;
                display: -ms-flexbox;
                display: flex;
                -webkit-box-pack: center;
                -ms-flex-pack: center;
                justify-content: center;
            }

            .icon__inner {
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -ms-flex-direction: column;
                flex-direction: column;
                position: relative;
                width: 65px;
            }

            @media (min-width: 860px) {
                .icon__image {
                    height: 42px;
                    width: 42px;
                }
            }

            .icon__image {
                height: 36px;
                width: 36px;
            }

            .icon__image img {
                height: auto;
                max-height: 100%;
                max-width: 100%;
                width: auto;
            }

            .icon__title {
                display: inline-block;
                font-size: 13px;
                line-height: 1.2;
                margin-top: 6px;
                padding: 2px 6px 4px;
                text-decoration: none;
                color: black;
                text-shadow: 1px 1px 0 #fff;
                width: 85%
            }

            a:focus .icon__title {
                background-color: mediumblue;
                color: white;
                text-shadow: none;
            }

            a:focus .icon {
                outline: 1px dotted #00f;
            }

            a:focus {
                outline: none;
            }

            a.drag {
                position: absolute;
                cursor: move;
            }

            td:not(.title-bar > td) {
                padding: 5px;
            }

            span[id$="link"] {
                text-decoration: none !important;
                color: black !important;
            }

            @media (max-width: 1000px) {
                #game-container {
                    display: none;
                }
            }

            @media (min-width: 1000px) {
                #noMobile {
                    display: none !important;;
                }
            }

            @media (max-width: 600px) {
                #slider {
                    left: 20px;
                    width: unset !important;
                }
                #slider.initialCard {
                    left: 55px; 
                    right: 10px !important;
                    width: unset !important;
                }
                #main {
                    padding-top: 145px;
                    margin-left: 70px;
                }
                #words {
                    width: 100%;
                }
            }

            span[id$="link"] {
                padding-right: 5px;
            }

            #slider.initialCard {
                border: 3px solid black;
            }

            #slider.initialCard div.title-bar {
                background-color: rebeccapurple;
            }

            #slider.initialCard div.card-body {
                background-color: mediumpurple;
            }

            #toggler {
                position: sticky; 
                top: 10px; 
                left: 205px; 
                height: 25px; 
                margin-right: 10px;
                transform: rotate(180deg);
                transition: transform 1s;
            }
        </style>
    </head>

    <body>
        <noscript>
            <strong>This site is going to not work and be boring unless you enable javascript. C'mon, everyone's doing it!</strong>
        </noscript>

        <div id="sidebar" style="display: none;">
            <a id="toggler" class="toggled" href="" onclick="toggle(); return false;"><img src="/assets/images/arrow.png" /></a>

            <div id="toggleHide" style="display: flex; flex-direction: column; height: 100%;">
                <h6>It's likely you want to do one of the following:</h6>
                <ul>
                    <li><a href="blog/">visit my blog</a></li>
                    <li><a target="_blank" href="mailto:ethanexline@gmail.com">shoot me an email</a></li>
                    <li><a target="_blank" href="https://github.com/ethanexline">peruse my Github</a></li>
                    <li><a target="_blank" href="https://www.linkedin.com/in/ethan-exline-b9b369201/">investigate my Linkedin</a></li>
                    <li><a target="_blank" href="https://docs.google.com/document/d/1RQ8oDsmeiHMNIHJQmh23w6evR7nBwG9K/edit?usp=sharing&ouid=116941067584196312043&rtpof=true&sd=true">ogle my resume</a></li>
                </ul>

                <h6>Or perhaps you were looking to get funky:</h6>
                <ul style="margin-bottom: 200px;">
                    <li><a style="cursor: pointer;" onclick="document.getElementById('slider').style.display = 'block'; return false;">monkey around with <br> the Nostalgia <br> Slider</a></li>
                </ul>

                <h6 style="padding-bottom: 0;">Thank you for visiting ethanexline.com.</h6>
            </div>
        </div>

        <div id="main" style="overflow-y: auto; margin-left: 50px; display: flex; flex-direction: row;">
            <div id="words" class="col-9" style="text-align: center;">
                <h1 style="padding-top: 25px; margin-bottom: 275px;">Welcome to ethanexline.com, home of, uh, ethanexline.com.</h1>

                <h2 style="margin-bottom: 250px;">This site is maintained by me, Ethan Exline. I'm a software engineer of little consequence, but I'm working on it.</h2>

                <h4 style="padding-bottom: 20px;"><- There's a bunch of Ethan-relevant items and links right there in the sidebar. I encourage you to fiddle with everything and waste a few minutes
                checking out the cool stuff I've built - might I recommend the nostalgia slider?</h4>
            </div>
        </div>
        
        
        <a id="blogIcon" class="drag" onclick="return false" ondblclick="location=this.href" tabindex="0" href="blog/">
            <div class="icon">
                <div class="icon__inner">
                    <div class="icon__image">
                        <img id="blogImage" src="assets/images/blogXP.png" alt="">
                    </div>
                    <div class="icon__title">Blog</div>
                </div>
            </div>
        </a>

        <a id="contactIcon" class="drag" onclick="return false" ondblclick="location=this.href" tabindex="1" href="mailto:ethanexline@gmail.com" style="top: 90px">
            <div class="icon">
                <div class="icon__inner">
                    <div class="icon__image">
                        <img id="contactImage" src="assets/images/contactXP.png" alt="">
                    </div>
                    <div class="icon__title">Contact</div>
                </div>
            </div>
        </a>

        <a id="githubIcon" class="drag" onclick="return false" ondblclick="location=this.href" tabindex="2" href="https://github.com/ethanexline" style="top: 180px">
            <div class="icon">
                <div class="icon__inner">
                    <div class="icon__image">
                        <img id="githubImage" src="assets/images/githubXP.png" alt="">
                    </div>
                    <div class="icon__title">Github</div>
                </div>
            </div>
        </a>

        <a id="linkedinIcon" class="drag" onclick="return false" ondblclick="location=this.href" tabindex="3" href="https://www.linkedin.com/in/ethan-exline-b9b369201/" style="top: 270px">
            <div class="icon">
                <div class="icon__inner">
                    <div class="icon__image">
                        <img id="linkedinImage" src="assets/images/linkedinXP.png" alt="">
                    </div>
                    <div class="icon__title">Linkedin</div>
                </div>
            </div>
        </a>

        <a id="sliderIcon" class="drag" onclick="return false" ondblclick="document.getElementById('slider').style.display = 'block';" tabindex="4" href="" style="left: 75px">
            <div class="icon">
                <div class="icon__inner">
                    <div class="icon__image">
                        <img id="sliderImage" src="assets/images/sliderXP.png" alt="">
                    </div>
                    <div class="icon__title">Nostalgia Slider</div>
                </div>
            </div>
        </a>

        <a id="resumeIcon" class="drag" onclick="return false" ondblclick="location=this.href" tabindex="5" href="https://docs.google.com/document/d/1RQ8oDsmeiHMNIHJQmh23w6evR7nBwG9K/edit?usp=sharing&ouid=116941067584196312043&rtpof=true&sd=true" style="top: 90px; left: 75px">
            <div class="icon">
                <div class="icon__inner">
                    <div class="icon__image">
                        <img id="resumeImage" src="assets/images/resumeXP.png" alt="">
                    </div>
                    <div class="icon__title">Resume</div>
                </div>
            </div>
        </a>

        <div id="Bombsniffer" class="window" style="width: auto; position: absolute; left: 12%; display: none;">
            <div id="noMobile">
                <div class="window" style="position: fixed; top: 20px; right: 20px; left: 20px;">
                    <div class="title-bar">
                        <div class="title-bar-text">You Rapscallion, You</div>
                        <div class="title-bar-controls">
                            <button aria-label="Close" onclick="document.getElementById('Bombsniffer').style.display = 'none';"></button>
                        </div>
                    </div>
                    <p style="padding: 10px;">I refuse to let you try to play Bombsniffer on mobile. It's just not gonna look good or play right. Try this: <a href="https://itunes.apple.com/us/app/minesweeper-ol/id670307706?mt=8&uo=4" target="itunes_store">Minesweeper for iOS</a></p>
                </div>
            </div>

            <div id="game-container" class="z100" style="height: auto; min-width: 162px;">
                <div id="Bombsnifferheader" class="title-bar" style="width: calc(100% + 10px);">
                    <div style="display: flex; align-items: center; flex-direction: row;">
                        <img src="assets/images/bombsniffer.png" style="height: 15px;">
                        <div class="title-bar-text" style="margin-left: 2px;">Bombsniffer</div>
                    </div>
                    <div class="title-bar-controls">
                        <button aria-label="Close" onclick="document.getElementById('Bombsniffer').style.display = 'none'"></button>
                    </div>
                </div>

                <div style="white-space: nowrap; margin-left: 4px; font-family: 'Pixelated MS Sans Serif', Arial; display: flex; align-items: center; height: 20px;">
                    <span id="options-link" title="game options">Game</span>
                    <span id="display-link" title="zoom level">Display</span>
                    <span id="controls-link" title="keyboard/mouse controls">Controls</span> 
                    <span id="import-link" title="load previously exported game">Import</span> 
                    <span id="export-link" title="save a game for later">Export</span>
                </div>

                <div style="width: calc(100% + 15px); display: flex; justify-content: center;">
                    <div id="game" oncontextmenu="return false;" ondrag="return false;" ondragstart="return false;" style="margin-left: 1%;"></div>
                </div>

                <form id="options-form">
                    <table id="options" class="window" style="width: 250px; position: absolute; top: 100px; left: 100px; border-spacing: unset; display: none;">
                        <tr class="title-bar" id="optionsheader" style="border-top-style: none; border-left-style: none; margin-right: -134px;">
                            <td class="title-bar-text">Game</td>
                            <td colspan="3" class="title-bar-controls" style="text-align: right;">
                                <button type="button" id="options-close" aria-label="Close"></button>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>Height</td>
                            <td>Width</td>
                            <td>Mines</td>
                        </tr>
                        <tr>
                            <td><input type="radio" name="field" id="beginner" /><label for="beginner"><strong>Beginner</strong></label></td>
                            <td>9</td>
                            <td>9</td>
                            <td>10</td>
                        </tr>
                        <tr>
                            <td><input type="radio" name="field" id="intermediate" /><label for="intermediate"><strong>Intermediate</strong></label></td>
                            <td>16</td>
                            <td>16</td>
                            <td>40</td>
                        </tr>
                        <tr>
                            <td><input type="radio" name="field" checked="checked" id="expert" /><label for="expert"><strong>Expert</strong></label></td>
                            <td>16</td>
                            <td>30</td>
                            <td>99</td>
                        </tr>
                        <tr>
                            <td><input type="radio" name="field" id="custom" /><label for="custom">Custom</label></td>
                            <td><input type="text" value="20" id="custom_height" class="dialog-text-input" onfocus="$('#custom').attr('checked', true);" /></td>
                            <td><input type="text" value="30" id="custom_width" class="dialog-text-input" onfocus="$('#custom').attr('checked', true);" /></td>
                            <td><input type="text" value="145" id="custom_mines" class="dialog-text-input" onfocus="$('#custom').attr('checked', true);" /></td>
                        </tr>
                        <tr>
                            <td><button id="newGame" type="submit" value="New Game" style="vertical-align: middle;">New Game</button></td>
                            <td colspan="3">
                                <input type="checkbox" id="marks" /><label style="margin-bottom: 0;"><strong style=" vertical-align: middle;">Marks (?)</strong></label>
                            </td>
                        </tr>
                    </table>
                </form>

                <table cellspacing="0" cellpadding="2" id="display" class="window" style="display: none; position: absolute; width: 109px; top: 100px; left: 100px;">
                    <tr class="title-bar" id="displayheader" style="margin-right: -57px;">
                        <td class="title-bar-text">Display</td>
                        <td class="title-bar-controls" style="text-align: right;">
                            <button type="button" id="display-close" aria-label="Close"></button>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 6px;"><strong>Zoom</strong></td>
                        <td style="padding: 6px;">
                            <div class="field-row">
                                <input type="radio" name="zoom" id="zoom100" value="1" checked="checked"/><label for="zoom100">100%</label>
                            </div>

                            <div class="field-row">
                                <input type="radio" name="zoom" id="zoom150" value="1.5" /><label for="zoom150">150%</label>
                            </div>

                            <div class="field-row">
                                <input type="radio" name="zoom" id="zoom200" value="2" /><label for="zoom200">200%</label>
                            </div>
                        </td>
                    </tr>
                    <!-- <tr>
                        <td style="padding: 6px; border-top: 1px solid #AAA;">
                            <input type="checkbox" name="nightMode" id="nightMode" /><label for="nightMode"><strong>Night Mode</strong></label>
                        </td>
                    </tr> -->
                </table>

                <table cellspacing="0" cellpadding="2" id="controls" class="window" style="display: none; position: absolute; top: 100px; left: 100px;">
                    <tr class="title-bar" id="controlsheader">
                        <td class="title-bar-text">Controls</td>
                        <td class="title-bar-controls" style="text-align: right;">
                            <button type="button" id="controls-close" aria-label="Close"></button>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 6px;">
                            <ul class="tree-view">
                                <li><b>Left-click</b> an empty square to reveal it.</li>
                                <li><b>Right-click</b> (or <b>Ctrl+click</b>) an empty square to flag it.</li>
                                <li><b>Midde-click</b> (or <b>left+right click</b>) a number to reveal<br /> its adjacent squares.</li>
                                <li>Press <b>space</b> bar while hovering over a square to flag<br />it or reveal its adjacent squares.</li>
                                <li>Press <b>F2</b> or click the smiley face to start a new game.</li>
                            </ul>
                        </td>
                    </tr>
                </table>

                <form id="import-form">
                    <table cellspacing="0" cellpadding="2" id="import" class="window" style="display: none; position: absolute; top: 100px; left: 100px;">
                        <tr class="title-bar" id="importheader">
                            <td class="title-bar-text">Import</td>
                            <td class="title-bar-controls" style="text-align: right;">
                                <button type="button" id="import-close" aria-label="Close"></button>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                Paste exported game state:
                                <br />
                                <textarea style="width: 96%; height: 40px; margin-top: 4px; margin-left: 3px;"></textarea>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="text-align: center;">
                                <button type="submit" value="Load Game">Load Game</button>
                            </td>
                        </tr>
                    </table>
                </form>

                <table cellspacing="0" cellpadding="2" id="export" class="window" style="display: none; position: absolute; top: 100px; left: 100px;">
                    <tr class="title-bar" id="exportheader">
                        <td class="title-bar-text">Export</td>
                        <td class="title-bar-controls" style="text-align: right;">
                            <button aria-label="Close" id="export-close"></button>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <em id="export-message"></em>
                            <br />
                            <textarea style="width: 98%; height: 40px; margin-top: 4px; margin-left: 3px;"></textarea>
                            <div id="export-first-click-message" style="width: 240px; margin-top: 4px; white-space: normal;">
                                &#9432; &ldquo;First click cannot be a mine&rdquo; behavior has been disabled for this game, as a result of having clicked &ldquo;Export&rdquo;.
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>

        <div id="slider" class="window card" style="width: 320px; position: absolute; top: 20px; right: 20px; display: none;">
            <div class="title-bar" id="sliderheader">
                <div class="title-bar-text card-header">Nostalgia Slider</div>
                <div class="title-bar-controls d-none">
                    <button aria-label="Close" onclick="document.getElementById('slider').style.display = 'none'"></button>
                </div>
            </div>
            <div class="window-body card-body" >
                <div class="field-row" style="height: 50px; display: flex; flex-direction: row; justify-content: center; align-items: center;">
                    <label for="styleRange" style="margin-right: 5px;">Classic</label>
                    <input id="styleRange" type="range" onchange="toggleTheme();" min="1" max="3" value="3" />
                    <label for="range27" style="margin-left: 5px;">Not Classic</label>
                </div>
            </div>
        </div>

        <div tabindex="-1" id="start-menuXP" class="start-menuXP" style="display: none;">
            <div id="XPStartMenuHeader" style="width: 230px; height: 75px; display: flex; align-items: center; background: linear-gradient(0deg, rgba(47,181,255,1) 0%, rgba(59,141,255,1) 40%, rgba(0,51,153,1) 95%, rgba(140,170,230,1) 99%);">
                <img src="/assets/images/profile.jpg" alt="pending" style="margin-left: 10px; height: 60px; width: 60px; border-radius: 5px; border: 1px solid white; box-shadow: 1px 1px darkslategrey; box-sizing: border-box;" />
                <h4 style="color: white; font-weight: 100; margin-left: 10px; font-size: 16px; text-shadow: 1px 2px darkslategrey;">xXrocklover69Xx</h4>
            </div>
            <div style="height:2px; width: 230px; background: linear-gradient(90deg, rgba(47,181,255,1) 0%, #FF9933 45%, #FF9933 55%, rgba(47,181,255,1) 100%);"></div>
            <ul class="start-menu__listXP">
                <li class="start-item">
                    <a class="start-item__buttonXP" onmousedown="navigateTo('blog/');">
                        <div class="start-item__icon">
                            <img id="blogStart" src="assets/images/blogXP.png" alt="Blog">
                        </div>
                        <span>Blog</span>
                    </a>
                </li>
                <li class="start-item">
                    <a class="start-item__buttonXP" target="_blank" onmousedown="navigateTo('https://github.com/ethanexline');" ontouchstart="navigateTo('https://github.com/ethanexline');">
                        <div class="start-item__icon">
                            <img id="githubStart" src="assets/images/githubXP.png" alt="Github">
                        </div>
                        <span>Github</span>
                    </a>
                </li>
                <li class="start-item">
                    <a class="start-item__buttonXP" target="_blank" onmousedown="navigateTo('https://www.linkedin.com/in/ethan-exline-b9b369201/');" ontouchstart="navigateTo('https://www.linkedin.com/in/ethan-exline-b9b369201/'); dispelMenuXP();">
                        <div class="start-item__icon">
                            <img id="linkedinStart" src="assets/images/linkedinXP.png" alt="Linkedin">
                        </div>
                        <span>Linkedin</span>
                    </a>
                </li>
                <li class="start-item">
                    <a class="start-item__buttonXP" target="_blank" onmousedown="navigateTo('https://docs.google.com/document/d/1RQ8oDsmeiHMNIHJQmh23w6evR7nBwG9K/edit?usp=sharing&ouid=116941067584196312043&rtpof=true&sd=true');" ontouchstart="navigateTo('https://docs.google.com/document/d/1RQ8oDsmeiHMNIHJQmh23w6evR7nBwG9K/edit?usp=sharing&ouid=116941067584196312043&rtpof=true&sd=true');">
                        <div class="start-item__icon">
                            <img id="resumeStart" src="assets/images/resumeXP.png" alt="Resume">
                        </div>
                        <span>Resume</span>
                    </a>
                </li>
                <li class="start-item">
                    <a class="start-item__buttonXP" onmousedown="navigateTo('mailto:ethanexline@gmail.com');" ontouchstart="navigateTo('mailto:ethanexline@gmail.com');">
                        <div class="start-item__icon">
                            <img id="contactStart" src="assets/images/contactXP.png" alt="Contact">
                        </div>
                        <span>Contact</span>
                    </a>
                </li>
                <li class="start-item">
                    <a class="start-item__buttonXP" onmousedown="document.getElementById('slider').style.display = 'block'; dispelMenuXP();" ontouchstart="document.getElementById('slider').style.display = 'block'; dispelMenuXP();">
                        <div class="start-item__icon">
                            <img id="sliderStart" src="assets/images/sliderXP.png" alt="Nostalgia Slider">
                        </div>
                        <span>Nostalgia Slider</span>
                    </a>
                </li>
                <li class="start-item">
                    <a class="start-item__buttonXP" onmousedown="document.getElementById('Bombsniffer').style.display = 'block';" ontouchstart="document.getElementById('Bombsniffer').style.display = 'block'; dispelMenuXP();">
                        <div class="start-item__icon">
                            <img id="sliderStart" src="assets/images/bombsniffer.png" alt="Bombsniffer">
                        </div>
                        <span>Bombsniffer</span>
                    </a>
                </li>
            </ul>
            <div  style="width: 230px; height: 35px; display: flex; align-items: center; background: linear-gradient(0deg, rgba(0,51,153,1) 0%, rgba(59,141,255,1) 60%, rgba(47,181,255,1)); border-top: 1px solid rgba(59,141,255,1);"></div>
        </div>

        <div tabindex="-1" id="start-menu" class="start-menu" style="display: none;">
            <h3 class="start-menu__bar"><b>Apertures</b>98</h3>
            <ul class="start-menu__list">
                <li class="start-item">
                    <a class="start-item__button" onmousedown="navigateTo('blog/');" ontouchstart="navigateTo('blog/');">
                        <div class="start-item__icon">
                            <img id="blogStart" src="assets/images/blog.png" alt="Blog">
                        </div>
                        <span>Blog</span>
                    </a>
                </li>
                <li class="start-item">
                    <a class="start-item__button" target="_blank" onmousedown="navigateTo('https://github.com/ethanexline');" ontouchstart="navigateTo('https://github.com/ethanexline');">
                        <div class="start-item__icon">
                            <img id="githubStart" src="assets/images/github.png" alt="Github">
                        </div>
                        <span>Github</span>
                    </a>
                </li>
                <li class="start-item">
                    <a class="start-item__button" target="_blank" onmousedown="navigateTo('https://www.linkedin.com/in/ethan-exline-b9b369201/');" ontouchstart="navigateTo('https://www.linkedin.com/in/ethan-exline-b9b369201/'); dispelMenu98();">
                        <div class="start-item__icon">
                            <img id="linkedinStart" src="assets/images/linkedin.png" alt="Linkedin">
                        </div>
                        <span>Linkedin</span>
                    </a>
                </li>
                <li class="start-item">
                    <a class="start-item__button" target="_blank" onmousedown="navigateTo('https://docs.google.com/document/d/1RQ8oDsmeiHMNIHJQmh23w6evR7nBwG9K/edit?usp=sharing&ouid=116941067584196312043&rtpof=true&sd=true');" ontouchstart="navigateTo('https://docs.google.com/document/d/1RQ8oDsmeiHMNIHJQmh23w6evR7nBwG9K/edit?usp=sharing&ouid=116941067584196312043&rtpof=true&sd=true');">
                        <div class="start-item__icon">
                            <img id="resumeStart" src="assets/images/resume.png" alt="Resume">
                        </div>
                        <span>Resume</span>
                    </a>
                </li>
                <li class="start-item">
                    <a class="start-item__button" onmousedown="navigateTo('mailto:ethanexline@gmail.com');" ontouchstart="navigateTo('mailto:ethanexline@gmail.com');">
                        <div class="start-item__icon">
                            <img id="contactStart" src="assets/images/contact.png" alt="Contact">
                        </div>
                        <span>Contact</span>
                    </a>
                </li>
                <li class="start-item">
                    <a class="start-item__button" onmousedown="document.getElementById('slider').style.display = 'block'; dispelMenu98();" ontouchstart="document.getElementById('slider').style.display = 'block'; dispelMenu98();">
                        <div class="start-item__icon">
                            <img id="sliderStart" src="assets/images/slider.png" alt="Nostalgia Slider">
                        </div>
                        <span>Nostalgia Slider</span>
                    </a>
                </li>
                <li class="start-item">
                    <a class="start-item__button" onmousedown="document.getElementById('Bombsniffer').style.display = 'block';" ontouchstart="document.getElementById('Bombsniffer').style.display = 'block'; dispelMenu98();">
                        <div class="start-item__icon">
                            <img id="sliderStart" src="assets/images/bombsniffer.png" alt="Bombsniffer">
                        </div>
                        <span>Bombsniffer</span>
                    </a>
                </li>
            </ul>
        </div>

        <nav id="startBar" class="xp" style="display: flex; align-items: center; justify-content: space-between; height: 30px; width: 100vw; position: fixed; bottom: 0px; left: 0; right: 0;">
            <button id="startButton98" class="win98Btn" onclick="menu98();" onblur="dispelMenu98();" style="padding: 2px 3px; flex: 0 0 auto; -webkit-box-flex: 0; -ms-flex: 0 0 auto; justify-content: center; min-width: unset !important; display: none;">
                <img src="/assets/images/startNeg.png" height="14" width="45" alt="start button">
            </button>

            <div id="xpStart" style="margin-bottom: 1px;">
                <a id="xpTag" href="" onclick="menuXP(); return false;" onblur="dispelMenuXP();"><img src="/assets/images/xpStartBtnPre.png" id="xpButton" style="margin-bottom: -2px;" /></a>
                <img id="gripper" src="/assets/images/gripper.png" alt="gripper" style="margin-bottom: 2px;">
            </div>

            <div id="98clock" class="status-bar" style="margin-right: 22px; display: none;">
                <p class="status-bar-field" id="clock1" style="padding: 6px; font-family: 'Pixelated MS Sans Serif', Arial;"></p>
            </div>

            <div id="xpClock">
                <img id="clockCircle" src="/assets/images/clockCircle.png">
                <p id="clock2" style="padding: 6px; margin-right: 22px; font-family: Tahoma;"></p>
            </div>
        </nav>
    </body>

    <script>
        toggleTheme();
        setInterval(updateTime, 1000);

        function toggle() {
            var toggler = document.getElementById("toggler");
            var sidebar = document.getElementById("sidebar");
            var main = document.getElementById("main");

            if (toggler.classList.contains("toggled")) {
                toggler.style.transform = "revert";
                sidebar.style.transform = "revert";
                main.style.transform = "translateX(200px)";
                toggler.classList.toggle("toggled");
            }
            else {
                toggler.style.transform = "rotate(180deg)";
                sidebar.style.transform = "translateX(-195px)";
                main.style.marginLeft = "translateX(-200px)";
                main.style.transform = "revert";

                toggler.classList.toggle("toggled");
            }
        }

        function updateTime() {
            var clockCircle = document.getElementById("clockCircle");
            var currentTime = new Date();
            var hours = currentTime.getHours();
            var minutes = currentTime.getMinutes();
            
            if (minutes < 10){
                minutes = "0" + minutes
            }
            if (hours > 11) {
                if (hours === 12) {
                    hours = "12";
                }
                else {
                    hours = hours - 12;
                    if (hours >= 10) {
                        clockCircle.style.marginLeft = "-16px";
                    }
                    else {
                        clockCircle.style.marginLeft = "-22px";
                    }
                }
                t_str = hours + ":" + minutes + " " + "PM";
            } 
            else {
                if (hours === 0) {
                    hours = 12;
                }
                if (hours >= 10) {
                    clockCircle.style.marginLeft = "-16px"
                }
                else {
                    clockCircle.style.marginLeft = "-22px"
                }
                t_str = hours + ":" + minutes + " " + "AM";
            }

            document.getElementById('clock1').innerText = t_str;
            document.getElementById('clock2').innerText = t_str;
        }

        function menu98() {
            var menu = document.getElementById('start-menu');

            if (menu.style.display === 'none') {
                menu.style.display = 'unset';
            }
            else {
                menu.style.display = 'none';
            }
        }

        function dispelMenu98() {
            var menu = document.getElementById('start-menu');
            
            if (menu.style.display !== 'none') {
                menu.style.display = 'none';
            }
        }

        function menuXP() {
            var menu = document.getElementById('start-menuXP');
            var button = document.getElementById('xpButton');

            if (menu.style.display === 'none') {
                menu.style.display = 'unset';
                button.src = "/assets/images/xpStartBtnPost.png";
            }
            else {
                menu.style.display = 'none';
                button.src = "/assets/images/xpStartBtnPre.png";
            }
        }

        function dispelMenuXP() {
            var menu = document.getElementById('start-menuXP');
            var button = document.getElementById('xpButton');

            if (menu.style.display !== 'none') {
                menu.style.display = 'none';
                button.src = "/assets/images/xpStartBtnPre.png";
            }
        }

        function navigateTo(url) {
            window.open(url, '_blank').focus();
            dispelMenu98();
            dispelMenuXP();
        }

        function toggleTheme() {
            var theme = document.getElementsByClassName('themeChanger');
            var bodyPic = document.getElementsByTagName('body');
            var styleChanger = document.getElementById('styleRange');
            var sliderWindow = document.getElementById('slider');
            var sidebar = document.getElementById('sidebar');
            var main = document.getElementById('main');

            var startBar = document.getElementById('startBar');
            var start98 = document.getElementById('startButton98');
            var clock98 = document.getElementById('98clock');
            
            var xpClock = document.getElementById('xpClock');
            var startXP = document.getElementById('xpStart');
            var gripper = document.getElementById('gripper');

            var blogIcon = document.getElementById('blogImage');
            var contactIcon = document.getElementById('contactImage');
            var githubIcon = document.getElementById('githubImage');
            var linkedinIcon = document.getElementById('linkedinImage');
            var resumeIcon = document.getElementById('resumeImage');
            var sliderIcon = document.getElementById('sliderImage');

            var blog = document.getElementById('blogIcon');
            var contact = document.getElementById('contactIcon');
            var github = document.getElementById('githubIcon');
            var linkedin = document.getElementById('linkedinIcon');
            var resume = document.getElementById('resumeIcon');
            var slider = document.getElementById('sliderIcon');

            var Bombsnifferheader = document.getElementById('Bombsnifferheader');
            var bombSniffer = document.getElementById('Bombsniffer');
            var snifferWarning = document.getElementById('noMobile');
            var optionsHeader = document.getElementById('optionsheader');
  
            // Change the value of media attribute
            // to change the active css stylesheet.
            if (styleChanger.value == '1') {
                theme[0].setAttribute('media', 'none');
                theme[1].setAttribute('media', '');
                theme[2].setAttribute('media', 'none');
                bodyPic[0].setAttribute('style', "overflow: clip; font-family: Tahoma, sans-serif; min-height: 100%; background-repeat: no-repeat; background-attachment: fixed; background-position: center; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover; background-size: 100% 100%; background-color: white; background-image: url('assets/images/win98.webp');");
                startBar.style.display = "flex";
                startBar.className = "";
                startBar.className = "win98";
                start98.style.display = "flex";
                startXP.style.display = "none";
                gripper.style.display = "none";
                xpClock.style.display = "none";
                clock98.style.display = "flex";
                blogIcon.src = "/assets/images/blog.png";
                contactIcon.src = "/assets/images/contact.png";
                githubIcon.src = "/assets/images/github.png";
                linkedinIcon.src = "/assets/images/linkedin.png";
                resumeIcon.src = "/assets/images/resume.png";
                sliderIcon.src = "/assets/images/slider.png";
                Bombsnifferheader.style.width = "calc(100% + 14px)";
                snifferWarning.style.display = "block";
                optionsHeader.style.marginRight = "-134px";

                if (sliderWindow.classList.contains("initialCard")) {
                    sliderWindow.classList.remove("initialCard");
                    sidebar.style.display = "none";
                    main.style.display = "none";
                    blog.style.display = "block";
                    contact.style.display = "block";
                    github.style.display = "block";
                    linkedin.style.display = "block";
                    resume.style.display = "block";
                    slider.style.display = "block";
                }
            } 
            else if (styleChanger.value == '2') {
                theme[1].setAttribute('media', 'none');
                theme[0].setAttribute('media', '');
                theme[2].setAttribute('media', 'none');
                bodyPic[0].setAttribute('style', "overflow: clip; font-family: 'Franklin Gothic', sans-serif; min-height: 100%; background-repeat: no-repeat; background-attachment: fixed; background-position: center; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover; background-size: 100% 100%; background-color: white; background-image: url('assets/images/bliss.webp');");
                startBar.style.display = "flex";
                startBar.className = "";
                startBar.className = "xp";
                start98.style.display = "none";
                startXP.style.display = "block";
                gripper.style.display = "unset";
                clock98.style.display = "none";
                xpClock.style.display = "flex";
                blogIcon.src = "/assets/images/blogXP.png";
                contactIcon.src = "/assets/images/contactXP.png";
                githubIcon.src = "/assets/images/githubXP.png";
                linkedinIcon.src = "/assets/images/linkedinXP.png";
                resumeIcon.src = "/assets/images/resumeXP.png";
                sliderIcon.src = "/assets/images/sliderXP.png";
                Bombsnifferheader.style.width = "calc(100% + 10px)";
                snifferWarning.style.display = "block";
                optionsHeader.style.marginRight = "-138px";

                if (sliderWindow.classList.contains("initialCard")) {
                    sliderWindow.classList.remove("initialCard");
                    sidebar.style.display = "none";
                    main.style.display = "none";
                    blog.style.display = "block";
                    contact.style.display = "block";
                    github.style.display = "block";
                    linkedin.style.display = "block";
                    resume.style.display = "block";
                    slider.style.display = "block";
                }
            }
            else {
                theme[2].setAttribute('media', '');
                theme[0].setAttribute('media', 'none');
                theme[1].setAttribute('media', 'none');
                bodyPic[0].setAttribute('style', "overflow-x: clip; position: absolute; bottom: 0px;display: flex; font-family: monospace; background-color: darkslateblue; color: pink; margin-top: 0;");
                startBar.style.display = "none";
                bombSniffer.style.display = "none";
                snifferWarning.style.display = "none";
                blog.style.display = "none";
                contact.style.display = "none";
                github.style.display = "none";
                linkedin.style.display = "none";
                resume.style.display = "none";
                slider.style.display = "none";
                sliderWindow.classList.add("initialCard");
                sidebar.style.display = "flex";
                main.style.display = "flex";
            }
        }

        // Make stuff draggable:
        dragElement(document.getElementById("blogIcon"));
        dragElement(document.getElementById("contactIcon"));
        dragElement(document.getElementById("githubIcon"));
        dragElement(document.getElementById("linkedinIcon"));
        dragElement(document.getElementById("sliderIcon"));
        dragElement(document.getElementById("resumeIcon"));
        dragWindow(document.getElementById("Bombsniffer"));
        dragWindow(document.getElementById("options"));
        dragWindow(document.getElementById("display"));
        dragWindow(document.getElementById("controls"));
        dragWindow(document.getElementById("import"));
        dragWindow(document.getElementById("export"));
        dragWindow(document.getElementById("slider"));

        function dragWindow(elmnt) {
            var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            if (document.getElementById(elmnt.id + "header")) {
                document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
            } else {
                elmnt.onmousedown = dragMouseDown;
            }

            function dragMouseDown(e) {
                e = e || window.event;
                e.preventDefault();
                elmnt.focus();
                
                // get the mouse cursor position at startup:
                pos3 = e.clientX || e.targetTouches[0].clientX;
                pos4 = e.clientY || e.targetTouches[0].clientY;;
                document.addEventListener('mouseup', closeDragElement, false);

                // call a function whenever the cursor moves:
                document.addEventListener('mousemove', elementDrag, false);
            }

            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();

                // calculate the new cursor position:
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;

                // set the element's new position:
                elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
                elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
            }

            function closeDragElement() {
                document.removeEventListener('mouseup', closeDragElement, false);
                document.removeEventListener('mousemove', elementDrag, false);
            }
        }

        function dragElement(elmnt) {
            var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            elmnt.addEventListener('mousedown', dragMouseDown, false);
            elmnt.addEventListener('touchstart', dragMouseDownMob, false);

            function dragMouseDown(e) {
                e = e || window.event;
                e.preventDefault();
                elmnt.focus();
                
                // get the mouse cursor position at startup:
                pos3 = e.clientX || e.targetTouches[0].clientX;
                pos4 = e.clientY || e.targetTouches[0].clientY;;
                document.addEventListener('mouseup', closeDragElement, false);
                // call a function whenever the cursor moves:
                document.addEventListener('mousemove', elementDrag, false);
            }

            function dragMouseDownMob(e) {
                e = e || window.event;
                e.preventDefault();
                elmnt.focus();

                // get the touch location at startup:
                pos3 = e.targetTouches[0].clientX;
                pos4 = e.targetTouches[0].clientY;;
                document.addEventListener('touchend', closeDragElement, false);
                document.addEventListener('mouseup', closeDragElement, false);

                // call a function when the finger moves:
                document.addEventListener('touchmove', elementDragMob, false);
            }

            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();

                // calculate the new cursor position:
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;

                // set the element's new position:
                elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
                elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
            }

            function elementDragMob(e) {
                e = e || window.event;
                e.preventDefault();

                // calculate the new touch location:
                pos1 = pos3 - e.targetTouches[0].clientX;
                pos2 = pos4 - e.targetTouches[0].clientY;
                pos3 = e.targetTouches[0].clientX;
                pos4 = e.targetTouches[0].clientY;

                // set the element's new position:
                elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
                elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
            }

            function closeDragElement() {
                // stop moving when mouse button/finger is released/raised:
                document.removeEventListener('mouseup', closeDragElement, false);
                document.removeEventListener('touchend', closeDragElement, false);
                document.removeEventListener('mousemove', elementDrag, false);
                document.removeEventListener('mousemove', elementDragMob, false);
                document.removeEventListener('touchmove', elementDragMob, false);
                document.removeEventListener('touchmove', elementDrag, false);
            }
        }

        updateTime();

        var body = document.getElementsByTagName("body")[0];
        var blogIcon = document.getElementById("blogIcon");
        var contactIcon = document.getElementById("contactIcon");
        var githubIcon = document.getElementById("githubIcon");
        var linkedinIcon = document.getElementById("linkedinIcon");
        var sliderIcon = document.getElementById("sliderIcon");
        var resumeIcon = document.getElementById("resumeIcon");

        var bodyTap = new Hammer(body);
        var blogIconTap = new Hammer(blogIcon);
        var contactIconTap = new Hammer(contactIcon);
        var githubIconTap = new Hammer(githubIcon);
        var linkedinIconTap = new Hammer(linkedinIcon);
        var sliderIconTap = new Hammer(sliderIcon);
        var resumeIconTap = new Hammer(resumeIcon);

        bodyTap.on('tap', function() {
            // this is definitely hacky, but this is what dang makes the start menu functional for mobile Safari AKA the new IE
            if (document.getElementById('start-menu').style.display === "unset") {
                setTimeout(function() {
                    dispelMenu98();
                }, 50);
            }
            else if (document.getElementById('start-menuXP').style.display === "unset") {
                setTimeout(function() {
                    dispelMenuXP();
                }, 50);
            }
        });

        blogIconTap.on('doubletap', function() {
            window.open(blogIcon.href, "_blank");
        });

        contactIconTap.on('doubletap', function() {
            window.open(contactIcon.href, "_blank");
        });

        githubIconTap.on('doubletap', function() {
            window.open(githubIcon.href, "_blank");
        });

        sliderIconTap.on('doubletap', function() {
            document.getElementById('slider').style.display = 'block';
        });

        linkedinIconTap.on('doubletap', function() {
            window.open(linkedinIcon.href, "_blank");
        });

        resumeIconTap.on('doubletap', function() {
            window.open(resumeIcon.href, "_blank");
        });

        window.onresize = function () {
            const draggables = document.getElementsByClassName('drag');

            for (let i = 0; i < draggables.length; i++) {
                if (parseInt(draggables[i].style.left) >= window.innerWidth) {
                    draggables[i].style.left = (window.innerWidth - 100) + 'px';
                }
                if (parseInt(draggables[i].style.top) >= window.innerHeight - 100) {
                    draggables[i].style.top = (window.innerHeight - 150) + 'px';
                }
            }
        }
    </script>

    <script>
        $(function() {
            var gameType = 'expert';
            var zoom = '100';
            var position = 'center';
            var isNightMode = false;
            var hashParts, i;
            var minesweeper;

            if (!!location.hash && location.hash.length > 1) {
                hashParts = location.hash.substring(1).split('-');

                for (i = 0; i < hashParts.length; i++) {
                    switch (hashParts[i]) {
                        case 'beginner':     gameType = 'beginner';     break;
                        case 'intermediate': gameType = 'intermediate'; break;
                        case '150':          zoom = '150';              break;
                        case '200':          zoom = '200';              break;
                        case 'left':         position = 'left';         break;
                        case 'night':        isNightMode = true;        break;
                    }
                }
            }

            $('#' + gameType).attr('checked', true);
            $('#zoom' + zoom).attr('checked', true);
            // $('#position-' + position).attr('checked', true);
            // $('#nightMode').attr('checked', isNightMode);

            document.getElementById('game-container').className = 'z' + zoom;
            setPosition(position);

            if (isNightMode) {
                toggleNightMode(isNightMode);
            }

            minesweeper = new Minesweeper([
                [ 2, 17, 62],
                [ 2, 14, 53],
                [ 1, 13, 51],
                [ 1, 10, 45]
            ], getOptions, setOptions);

            minesweeper.onWin = function(gameTypeId, time) {
            };

            minesweeper.onNewHighScore = function(intervalTypeId) {
            };

            minesweeper.newGame();
            setHash();

            $("#options-link, #options-close").click(function() {
                $("#options").toggle();
                $("#display").hide();
                $("#controls").hide();
                $("#import").hide();
                $("#export").hide();
            });

            $("#options-form").submit(function(e) {
                $("#options").hide();
                minesweeper.newGame();
                setHash();
                e.preventDefault();
            });

            $("#display-link, #display-close").click(function() {
                $("#options").hide();
                $("#display").toggle();
                $("#controls").hide();
                $("#import").hide();
                $("#export").hide();
            });

            $('input[name="zoom"]').change(function() {
                var zoom = parseFloat($(this).val());
                minesweeper.resize(zoom);
                setHash();
            });

            $('input[name="position"]').change(function() {
                setPosition($(this).val());
                setHash();
            });

            $('input[name="nightMode"]').change(function() {
                var isNightMode = $(this).is(':checked');
                toggleNightMode(isNightMode);
                setHash();
            });

            $("#controls-link, #controls-close").click(function() {
                $("#options").hide();
                $("#display").hide();
                $("#controls").toggle();
                $("#import").hide();
                $("#export").hide();
            });

            $("#import-link, #import-close").click(function() {
                $("#options").hide();
                $("#display").hide();
                $("#controls").hide();
                $("#import").toggle();
                $("#export").hide();

                if ($('#import').is(':visible')) {
                    $('#import input[type=submit]').prop('disabled', true);
                    // trigger propertychange so "load game" button becomes enabled/disabled as needed
                    $('#import textarea').select().trigger('propertychange');
                }
            });

            $('#import textarea').bind('input propertychange', function() {
                var isImportable = minesweeper.isImportable($.trim($(this).val()));
                $('#import input[type=submit]').prop('disabled', !isImportable);
            });

            $("#import-form").submit(function(e) {
                $("#import").hide();
                minesweeper.import_($.trim($('#import textarea').val()));
                e.preventDefault();
            });

            $("#export-link, #export-close").click(function() {
                $("#options").hide();
                $("#display").hide();
                $("#controls").hide();
                $("#import").hide();
                $("#export").toggle();

                if ($('#export').is(':visible')) {
                    $('#export textarea').val(minesweeper.export_()).select();
                    var didCopySucceed = document.execCommand('copy');
                    $('#export-message').text(didCopySucceed ? 'Game state copied to your clipboard!' : 'Copy game state to your clipboard:');
                    $('#export-first-click-message').toggle(!minesweeper.hasStartedPlaying());
                }
            });

            $('#export textarea').mousedown(function () {
                // If the textarea already has focus, don't override default behavior.
                if (document.activeElement === $(this)[0]) {
                    return;
                }
                // Defer or else the ensuing click event will un-highlight.
                var that = this;
                setTimeout(() => {
                    $(that).select();	
                }, 0);
            });

            $(document).keydown(function(e) {
                if (e.keyCode == 27) { //escape
                    $("#options, #display, #controls, #import, #export").hide();
                }
            });

            function setPosition(position) {
                if (position == 'left') {
                    $('.outer-container').css('text-align', 'left' );
                    $('body').css('margin-left', '20px');
                }
                else if (position == 'center') {
                    $('.outer-container').css('text-align', 'center');
                    $('body').css('margin-left', '0px');
                }
            }

            function toggleNightMode(isOn) {
                $('body').toggleClass('night-mode', isOn);
            }

            function getOptions() {
                var gameTypeId;
                var numRows;
                var numCols;
                var numMines;
                var zoom;

                if ($("#beginner").is(':checked')) {
                    gameTypeId = 1;
                    numRows = 9;
                    numCols = 9;
                    numMines = 10;
                }
                else if ($("#intermediate").is(':checked')) {
                    gameTypeId = 2;
                    numRows = 16;
                    numCols = 16;
                    numMines = 40;
                }
                else if ($("#expert").is(':checked')) {
                    gameTypeId = 3;
                    numRows = 16;
                    numCols = 30;
                    numMines = 99;
                }
                else if ($("#custom").is(':checked')) {
                    gameTypeId = 0;

                    numRows = parseInt($("#custom_height").val(), 10);
                    if (isNaN(numRows)) {
                        numRows = 20;
                    }
                    numRows = Math.max(1, numRows);
                    numRows = Math.min(99, numRows);
                    $("#custom_height").val(numRows);

                    numCols = parseInt($("#custom_width").val(), 10);
                    if (isNaN(numCols)) {
                        numCols = 30;
                    }
                    numCols = Math.max(8, numCols);
                    numCols = Math.min(99, numCols);
                    $("#custom_width").val(numCols);

                    numMines = parseInt($("#custom_mines").val(), 10);
                    if (isNaN(numMines)) {
                        numMines = Math.round(numRows * numCols / 5);
                    }
                    numMines = Math.max(0, numMines);
                    numMines = Math.min(numRows * numCols - 1, numMines);
                    $("#custom_mines").val(numMines);
                }

                zoom = parseFloat($('input[name="zoom"]:checked').val());
                return {
                    gameTypeId: gameTypeId,
                    numRows: numRows,
                    numCols: numCols,
                    numMines: numMines,
                    zoom: zoom
                };
            }

            function setOptions(options) {
                switch (options.gameTypeId) {
                    case 1: $('#beginner').prop('checked', true); break;
                    case 2: $('#intermediate').prop('checked', true); break;
                    case 3: $('#expert').prop('checked', true); break;
                    default:
                        $('#custom').prop('checked', true);
                        $('#custom_height').val(options.numRows);
                        $('#custom_width').val(options.numCols);
                        $('#custom_mines').val(options.numMines);
                        break;
                }
            }

            function setHash() {
                var gameType = 'expert';
                var zoom = $('input[name="zoom"]:checked').val();
                var position = $('input[name="position"]:checked').val();
                var isNightMode = $('input[name="nightMode"]').is(':checked');
                var hashParts = [];

                if ($("#beginner").attr("checked")) {
                    hashParts.push("beginner");
                }
                else if ($("#intermediate").attr("checked")) {
                    hashParts.push("intermediate");
                }

                if (zoom != 1) {
                    hashParts.push(zoom * 100);
                }

                if (position != "center") {
                    hashParts.push(position);
                }

                if (isNightMode) {
                    hashParts.push('night');
                }

                if (hashParts.length > 0) {
                    location.hash = '#' + hashParts.join('-');
                }
                else {
                    location.hash = '';
                }
            }
        });
	</script>
    
</html>